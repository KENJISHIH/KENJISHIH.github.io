echo "<!DOCTYPE html><html><head><title>所有 SingleFile 頁面</title><style>ul { list-style: none; padding: 0; } li { margin: 5px 0; } a { text-decoration: none; color: #007bff; } a:hover { text-decoration: underline; }</style></head><body><h1>所有 SingleFile 頁面</h1><ul>" > links.html

for dir in $(find . -type d -name "20*"); do
  echo "<h2>${dir}</h2><ul>" >> links.html
  for file in $(find $dir -type f -name "*.html"); do
    url=$(realpath --relative-to=. "$file" | jq -Rr @uri)
    name=$(basename "$file" | sed 's/[^a-zA-Z0-9._-]/_/g' | sed 's/ /_/g' | sed 's/_html$/.html/')
    echo "<li><a href='$url'>$name</a></li>" >> links.html
  done
  echo "</ul>" >> links.html
done

echo "</ul></body></html>" >> links.html
